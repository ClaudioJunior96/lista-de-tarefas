<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/styles.css" />
    <title>Lista de Tarefas</title>
    <style>
        .checked {
            text-decoration: line-through;
        }
    </style>
</head>

<body>
    <h1>Lista de Tarefas</h1>
    <div id="list">
        <form id="task-form"><input name="task" type="text" id="task" placeholder="Digite aqui sua tarefa" /><button type="button" onclick="add()">Add</button></form>
        <fieldset>
            <legend>Tarefas:</legend>
            <ul>
                <li>Limpar casa</li>
                <li>Arrumar a Cozinha</li>
                <li>Cortar as Comidas</li>
                <li>Preparar as Panelas</li>
                <li>Cozinhar</li>
                <li>Limpar os Pratos</li>
                <li>Guardar os Pratos</li>
                <li>Descansar</li>

            </ul>
        </fieldset>
        <script src="assets/scripts.js "></script>
        <script>
            function createCloseButton(li) {
                let span = document.createElement("SPAN");
                let txt = document.createTextNode("\u00D7");
                span.className = "close";
                span.appendChild(txt);
                li.appendChild(span);

                span.onclick = () => span.parentElement.style.display = "none";
            }
            document.querySelectorAll('li').forEach(createCloseButton);

            document.querySelector('ul').addEventListener('click', (e) => {
                if (e.target.tagName === 'LI')
                    e.target.classList.toggle('checked');
            });

            function add() {
                let li = document.createElement('LI');
                let input_value = document.form_main.task.value;
                let input_text = document.createTextNode(input_value);

                li.appendChild(input_text);
                document.querySelector('ul').appendChild(li);
                document.form_main.task.value = "";

                createCloseButton(li);
            }
        </script>
</body>

</html>